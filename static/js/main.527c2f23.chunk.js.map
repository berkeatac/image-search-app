{"version":3,"sources":["assets/dropdown_indicator.svg","assets/logo.svg","components/Header/dropdownOptions.js","components/Header/style.js","components/Header/index.jsx","components/ImageList/style.js","components/ImageList/index.jsx","components/PageButtons/style.js","components/PageButtons/index.jsx","components/ErrorBox/style.js","components/ErrorBox/index.jsx","api/cacheUtils.js","api/unsplash.js","constants.js","api/imageGetter.js","reducers/appReducer.js","components/App/style.js","components/App/index.jsx","index.js"],"names":["module","exports","customStyles","indicatorSeparator","dropdownIndicator","defaultStyles","color","padding","option","provided","state","backgroundColor","isFocused","isSelected","control","base","minHeight","valueContainer","height","DD_TARGET_HEIGHT","clearIndicator","options","value","label","DropdownIndicator","props","src","dd_indic","alt","HeaderContainer","styled","div","LogoContainer","LogoComponent","LogoImage","img","HeaderFormContainer","form","HeaderQueryInput","input","HeaderDropdown","Select","HeaderSubmitText","p","HeaderSubmitButton","button","Header","dispatch","inputEl","useRef","dropEl","useEffect","current","logo","onSubmit","e","event","console","log","preventDefault","type","payload","term","collection","placeholder","ref","data-cy","defaultValue","styles","components","ImageListContainer","ListImage","ImageList","images","items","map","width","style","gridRowEnd","Math","ceil","key","id","href","links","html","target","rel","urls","small","alt_description","ButtonsContainer","ButtonText","PageButton","disabled","css","PageButtons","changePage","change","page","onClick","total_pages","ErrorContainer","ErrorText","ErrorBox","errorMessage","className","updateCache","data","localStorage","setItem","JSON","stringify","getFromCache","cached","getItem","parse","axios","create","baseURL","headers","Authorization","imageGetter","a","cachedRes","unsplash","get","params","query","per_page","collections","res","response","status","errors","initialState","appReducer","action","AppContent","LoaderContainer","GlobalStyle","createGlobalStyle","App","useReducer","useState","error","setError","loading","setLoading","onSearchSubmit","results","length","path","exact","render","ReactDOM","document","querySelector"],"mappings":"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","file":"static/js/main.527c2f23.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/dropdown_indicator.c17bde18.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.19361864.svg\";","import React from \"react\";\nimport { components } from \"react-select\";\nimport { DD_TARGET_HEIGHT } from \"../../constants\";\nimport dd_indic from \"../../assets/dropdown_indicator.svg\";\n\nexport const customStyles = {\n  indicatorSeparator: () => {},\n  dropdownIndicator: defaultStyles => ({\n    ...defaultStyles,\n    color: \"black\",\n    padding: `${(DD_TARGET_HEIGHT - 20 - 1 - 1) / 2}px`\n  }),\n  option: (provided, state) => ({\n    ...provided,\n    backgroundColor:\n      state.isFocused || state.isSelected\n        ? \"rgba(213, 215, 229, 0.3)\"\n        : \"white\",\n    color: state.isSelected ? \"black\" : \"black\"\n  }),\n  control: base => ({\n    ...base,\n    minHeight: \"initial\"\n  }),\n  valueContainer: base => ({\n    ...base,\n    height: `${DD_TARGET_HEIGHT - 1 - 1}px`,\n    padding: \"0 20px\"\n  }),\n  clearIndicator: base => ({\n    ...base,\n    padding: `${(DD_TARGET_HEIGHT - 20 - 1 - 1) / 2}px`\n  })\n};\n\nexport const options = [\n  { value: 0, label: \"Default\" },\n  { value: 1079798, label: \"Street Art\" },\n  { value: 1065976, label: \"Wallpapers\" },\n  { value: 327760, label: \"Nature\" },\n  { value: 3330445, label: \"Textures & Patterns\" },\n  { value: 281665, label: \"Architecture\" }\n];\n\nexport const DropdownIndicator = (\n  props: ElementConfig<typeof components.DropdownIndicator>\n) => {\n  return (\n    <components.DropdownIndicator {...props}>\n      <img src={dd_indic} alt=\"dropdown arrow\" />\n    </components.DropdownIndicator>\n  );\n};\n","import styled from \"styled-components\";\nimport Select from \"react-select\";\n\nexport const HeaderContainer = styled.div`\n  height: 120px;\n  width: 100vw;\n  background-color: #050417;\n  display: flex;\n  position: sticky;\n  top: 0;\n  z-index: 20;\n`;\n\nexport const LogoContainer = styled.div`\n  height: 120px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const LogoComponent = styled.div`\n  width: 70px;\n  height: 70px;\n  background: linear-gradient(\n    333.23deg,\n    #2a2b8d -16.84%,\n    #2b2f8f -12.31%,\n    #559bd1 119.72%\n  );\n  border-radius: 26px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 25px 50px 25px 50px;\n`;\n\nexport const LogoImage = styled.img`\n  width: 41px;\n  height: 35px;\n  margin: 2px 1px;\n`;\n\nexport const HeaderFormContainer = styled.form`\n  display: flex;\n  width: calc(100% - 170px);\n  height: 120px;\n  align-items: center;\n  margin-right: 100px;\n  justify-content: space-evenly;\n`;\n\nexport const HeaderQueryInput = styled.input`\n  width: 400px;\n  height: 50px;\n  border-radius: 4px;\n  padding: 0px 22px;\n  font-family: Open Sans;\n  font-size: 14px;\n  border: 1px solid #cccccc;\n`;\n\nexport const HeaderDropdown = styled(Select)`\n  width: 400px;\n  height: 50px;\n  border-radius: 4px;\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: 800;\n  font-size: 14px;\n  margin-left: 30px;\n`;\n\nexport const HeaderSubmitText = styled.p`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: 800;\n  font-size: 14px;\n  line-height: 19px;\n  letter-spacing: 0.1em;\n  color: #ffffff;\n`;\n\nexport const HeaderSubmitButton = styled.button`\n  width: 246px;\n  height: 50px;\n  background: #2a2b8d;\n  border-color: #2a2b8d;\n  border-radius: 25px;\n  cursor: pointer;\n  margin-left: 52px;\n`;\n","import React, { useRef, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { customStyles, options, DropdownIndicator } from \"./dropdownOptions\";\nimport logo from \"../../assets/logo.svg\";\n\nimport {\n  HeaderContainer,\n  LogoContainer,\n  LogoComponent,\n  LogoImage,\n  HeaderFormContainer,\n  HeaderQueryInput,\n  HeaderDropdown,\n  HeaderSubmitText,\n  HeaderSubmitButton,\n} from \"./style\";\n\nconst Header = ({ dispatch }) => {\n  const inputEl = useRef(\"\");\n  const dropEl = useRef(0);\n\n  const getImages = (event) => {\n    console.log(inputEl, dropEl);\n\n    event.preventDefault();\n    if (inputEl.current.value !== \"\" && dropEl.current.state.value) {\n      dispatch({\n        type: \"SET_PARAMS\",\n        payload: {\n          term: inputEl.current.value,\n          collection: dropEl.current.state.value.value,\n        },\n      });\n    }\n  };\n\n  useEffect(() => {\n    inputEl.current.value = \"istanbul\";\n  }, []);\n\n  return (\n    <HeaderContainer>\n      <LogoContainer>\n        <LogoComponent>\n          <LogoImage src={logo} alt=\"logo\" />\n        </LogoComponent>\n      </LogoContainer>\n      <HeaderFormContainer onSubmit={(e) => getImages(e)}>\n        <HeaderQueryInput\n          type=\"text\"\n          placeholder=\"Query\"\n          ref={inputEl}\n          data-cy=\"query-text\"\n        />\n        <HeaderDropdown\n          ref={dropEl}\n          options={options}\n          placeholder=\"Collections\"\n          defaultValue={{ label: \"Default\", value: 0 }}\n          styles={customStyles}\n          components={{ DropdownIndicator }}\n          data-cy=\"query-dropdown\"\n        />\n        <HeaderSubmitButton type=\"submit\" data-cy=\"query-button\">\n          <HeaderSubmitText>SEARCH</HeaderSubmitText>\n        </HeaderSubmitButton>\n      </HeaderFormContainer>\n    </HeaderContainer>\n  );\n};\n\nHeader.propTypes = {\n  state: PropTypes.object,\n  dispatch: PropTypes.func,\n};\n\nexport default Header;\n","import styled from \"styled-components\";\n\nexport const ImageListContainer = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  gap: 0px 10px;\n  grid-auto-rows: 10px;\n`;\n\nexport const ListImage = styled.img`\n  width: 300px;\n`;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { ListImage, ImageListContainer } from \"./style\";\n\nconst ImageList = ({ images }) => {\n  const items = images.map((img) => {\n    const height = img.height * (300 / img.width);\n    return (\n      <div\n        style={{ gridRowEnd: `span ${Math.ceil(height / 10) + 2}` }}\n        key={img.id}\n      >\n        <a href={img.links.html} target=\"_blank\" rel=\"noopener noreferrer\">\n          <ListImage\n            src={img.urls.small}\n            alt={img.alt_description}\n            data-cy=\"image-item\"\n          />\n        </a>\n      </div>\n    );\n  });\n\n  return (\n    <ImageListContainer data-cy=\"image-list\">\n      {images && items}\n    </ImageListContainer>\n  );\n};\n\nImageList.propTypes = {\n  images: PropTypes.array,\n};\n\nexport default ImageList;\n","import styled, { css } from \"styled-components\";\n\nexport const ButtonsContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: 30px;\n`;\n\nexport const ButtonText = styled.p`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 19px;\n  color: #2a2b8d;\n  margin: 12px 30px 12px 30px;\n`;\n\nexport const PageButton = styled.button`\n  border: 1px solid #d5d7e5;\n  box-sizing: border-box;\n  border-radius: 2px;\n  cursor: pointer;\n  margin: 5px;\n  ${(props) =>\n    props.disabled &&\n    css`\n      cursor: default;\n      opacity: 0.4;\n    `}\n`;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { ButtonsContainer, ButtonText, PageButton } from \"./style\";\n\nconst PageButtons = ({ state, dispatch }) => {\n  const changePage = (change) => {\n    dispatch({ type: \"SET_PAGE\", payload: { page: state.page + change } });\n  };\n\n  return (\n    <ButtonsContainer>\n      <PageButton\n        onClick={() => changePage(-1)}\n        disabled={state.page === 1 ? true : false}\n        data-cy=\"prev-page\"\n      >\n        <ButtonText>Previous</ButtonText>\n      </PageButton>\n      <PageButton\n        onClick={() => changePage(1)}\n        disabled={state.page === state.total_pages ? true : false}\n        data-cy=\"next-page\"\n      >\n        <ButtonText>Next</ButtonText>\n      </PageButton>\n    </ButtonsContainer>\n  );\n};\n\nPageButtons.propTypes = {\n  state: PropTypes.object,\n  dispatch: PropTypes.func,\n};\n\nexport default PageButtons;\n","import styled from \"styled-components\";\n\nexport const ErrorContainer = styled.div`\n  background: rgb(255, 74, 74, 0.1);\n  border-radius: 4px;\n  padding: 4px 30px;\n`;\n\nexport const ErrorText = styled.p`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  color: #ff4a4a;\n  opacity: 1;\n`;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { ErrorContainer, ErrorText } from \"./style\";\n\nconst ErrorBox = ({ errorMessage }) => {\n  return (\n    <ErrorContainer>\n      <ErrorText className=\"error-text\">{errorMessage}</ErrorText>\n    </ErrorContainer>\n  );\n};\n\nErrorBox.propTypes = {\n  errorMessage: PropTypes.string,\n};\n\nexport default ErrorBox;\n","export const updateCache = (key, data) => {\n  try {\n    localStorage.setItem(JSON.stringify(key), JSON.stringify(data));\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nexport const getFromCache = (key) => {\n  const cached = localStorage.getItem(JSON.stringify(key));\n  if (cached) {\n    return JSON.parse(cached);\n  }\n  return null;\n};\n","import axios from \"axios\";\nimport { CLIENT_ID } from \"../constants\";\n\nexport default axios.create({\n  baseURL: \"https://api.unsplash.com\",\n  headers: {\n    Authorization: `${CLIENT_ID}`\n  }\n});\n","export const CLIENT_ID =\n  \"Client-ID 5824724607d2fad613cba2c83a8021f936843a005cb1c4979b647b52bfaafdda\";\n\nexport const DD_TARGET_HEIGHT = 50;\n","import { updateCache, getFromCache } from \"../api/cacheUtils\";\nimport unsplash from \"../api/unsplash\";\n\n// Returns data from local storage if exists\n// Sends request and returns response data if not\nconst imageGetter = async (term, collection, page) => {\n  const cachedRes = getFromCache([term, collection, page]);\n  if (cachedRes !== null) {\n    return [cachedRes, null];\n  } else {\n    try {\n      const res = await unsplash.get(\"/search/photos\", {\n        params: {\n          query: term,\n          page,\n          per_page: 9,\n          collections: collection\n        }\n      });\n      updateCache([term, collection, page], res.data);\n      return [res.data, null];\n    } catch (error) {\n      if (error.response)\n        return [\n          null,\n          `${error.response.status} ${error.response.data.errors[0]}`\n        ];\n    }\n  }\n  return [null, \"Something went wrong\"];\n};\n\nexport default imageGetter;\n","export const initialState = {\n  images: [],\n  term: \"istanbul\",\n  collection: 0,\n  page: 1,\n  total_pages: 1,\n};\n\nexport const appReducer = (state, action) => {\n  switch (action.type) {\n    case \"SET_PARAMS\":\n      return {\n        ...state,\n        term: action.payload.term,\n        collection: action.payload.collection,\n        page: 1,\n      };\n    case \"SET_IMAGES\":\n      return {\n        ...state,\n        images: action.payload.images,\n        total_pages: action.payload.total_pages,\n      };\n    case \"SET_PAGE\":\n      return {\n        ...state,\n        page: action.payload.page,\n      };\n    default:\n      return state;\n  }\n};\n","import styled from \"styled-components\";\n\nexport const AppContent = styled.div`\n  max-width: 960px;\n  margin: 30px auto;\n`;\n\nexport const LoaderContainer = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\nimport { createGlobalStyle } from \"styled-components\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport Header from \"../Header\";\nimport ImageList from \"../ImageList\";\nimport PageButtons from \"../PageButtons\";\nimport ErrorBox from \"../ErrorBox\";\nimport imageGetter from \"../../api/imageGetter\";\nimport { appReducer, initialState } from \"../../reducers/appReducer\";\n\nimport { AppContent, LoaderContainer } from \"./style\";\n\nconst GlobalStyle = createGlobalStyle`\n  body {\n    margin: 0px;\n  }\n`;\n\nconst App = () => {\n  const [state, dispatch] = useReducer(appReducer, initialState);\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const onSearchSubmit = async () => {\n    setError(\"\");\n    setLoading(true);\n\n    const [data, error] = await imageGetter(\n      state.term,\n      state.collection,\n      state.page,\n      setError\n    );\n    if (error) {\n      setError(error);\n    } else {\n      const { results, total_pages } = data;\n      dispatch({\n        type: \"SET_IMAGES\",\n        payload: { images: results, total_pages },\n      });\n      if (!results.length) setError(\"No result has been found\");\n    }\n\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    onSearchSubmit();\n  }, [state.term, state.collection, state.page]);\n\n  return (\n    <Router>\n      <Switch>\n        <Route\n          path=\"/\"\n          exact\n          render={() => (\n            <div>\n              <GlobalStyle />\n              <Header state={state} dispatch={dispatch} />\n              <AppContent>\n                {loading && (\n                  <LoaderContainer className=\"loader-container\">\n                    <ClipLoader />\n                  </LoaderContainer>\n                )}\n                {error !== \"\" && !loading && <ErrorBox errorMessage={error} />}\n                {!loading && error === \"\" && (\n                  <>\n                    <ImageList images={state.images} />\n                    <PageButtons state={state} dispatch={dispatch} />\n                  </>\n                )}\n              </AppContent>\n            </div>\n          )}\n        />\n        <Route path=\"/about\" render={() => <p>About</p>}></Route>\n      </Switch>\n    </Router>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.querySelector(\"#root\"));\n"],"sourceRoot":""}